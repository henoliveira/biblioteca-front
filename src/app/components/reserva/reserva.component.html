<div class="testbox">
  <form [formGroup]="reservaForm" (ngSubmit)="onSubmit()">
    <div class="banner">
      <h1>Fazer Reserva</h1>
    </div>
    <mat-autocomplete
      #auto="matAutocomplete"
      [displayWith]="formatPublicacoesInputName.bind(this)"
    >
      <mat-option
        *ngFor="let publicacao of publicacoes"
        [value]="publicacao.ISBN"
      >
        {{ publicacao.Titulo }} - {{ publicacao.Autor }}
      </mat-option>
    </mat-autocomplete>
    <div class="item">
      <input
        id="ISBN"
        type="text"
        placeholder="Publicação"
        matInput
        formControlName="ISBN"
        [matAutocomplete]="auto"
        required
      />
    </div>
    <mat-autocomplete
      #associado="matAutocomplete"
      [displayWith]="formatAssociadosInputName.bind(this)"
    >
      <mat-option
        *ngFor="let associado of associados"
        [value]="associado.Codigo"
      >
        {{ associado.Codigo }} - {{ associado.Nome }}
      </mat-option>
    </mat-autocomplete>
    <div class="item">
      <input
        id="associado"
        type="text"
        name="associado"
        formControlName="associadoId"
        placeholder="Codigo do Associado"
        [matAutocomplete]="associado"
        required
      />
    </div>
    <div class="error">{{ message }}</div>
    <div class="btn-block">
      <button type="submit" [disabled]="loading" href="/">Criar Reserva</button>
    </div>
  </form>
</div>
<app-loading *ngIf="loading"></app-loading>
